<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>AssistGo - Iniciar sesión</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .high-contrast {
      background-color: #000000 !important;
      color: #ffffff !important;
    }
    .high-contrast-header {
      background-color: #111827 !important;
      border-color: #ffffff !important;
    }
    .high-contrast-nav {
      background-color: #111827 !important;
      border-color: #ffffff !important;
    }
    .high-contrast-accent {
      color: #4ade80 !important;
    }
  </style>
</head>
<body class="min-h-screen bg-gray-50 text-black">

  <!-- Sprite SVG global -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-home" viewBox="0 0 24 24">
      <path d="M12 3 3 10h2v9h5v-6h4v6h5v-9h2z" />
    </symbol>
    <symbol id="icon-map" viewBox="0 0 24 24">
      <path d="M9 3 4 5v16l5-2 6 2 5-2V3l-5 2-6-2zm0 2.47 6 2v13.06l-6-2.01V5.47zm-2 .06v13.06l-2 1V6.53l2-1zm12 0v13.06l-2 1V6.53l2-1z" />
    </symbol>
    <symbol id="icon-history" viewBox="0 0 24 24">
      <path d="M13 3a9 9 0 1 0 8.94 8H20A7 7 0 1 1 13 5V3zm-1 4v6h5v-2h-3V7h-2z" />
    </symbol>
    <symbol id="icon-settings" viewBox="0 0 24 24">
      <path d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.61-.22l-2.39.96a7.14 7.14 0 0 0-1.63-.94L14.4 2.5a.5.5 0 0 0-.49-.5h-3.82a.5.5 0 0 0-.49.5l-.36 2.82a7.14 7.14 0 0 0-1.63.94l-2.39-.96a.5.5 0 0 0-.61.22L2.7 8.86a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L2.82 14.54a.5.5 0 0 0-.12.64l1.92 3.32c.13.22.39.31.61.22l2.39-.96c.5.38 1.05.7 1.63.94l.36 2.82c.03.25.24.44.49.44h3.82c.25 0 .46-.19.49-.44l.36-2.82c.58-.24 1.13-.56 1.63-.94l2.39.96c.23.09.48 0 .61-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58zM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
    </symbol>
    <symbol id="icon-alert" viewBox="0 0 24 24">
      <path d="M1 21h22L12 2 1 21zm12-3h-2v2h2v-2zm0-6h-2v4h2v-4z" />
    </symbol>
    <!-- icono soporte -->
    <symbol id="icon-support" viewBox="0 0 24 24">
      <circle cx="12" cy="7" r="3" />
      <path d="M6 20v-1a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v1" />
      <path d="M4 9h2v4H4zM18 9h2v4h-2z" />
    </symbol>
  </svg>

  <!-- Header -->
  <header
    id="header"
    class="bg-white border-b border-gray-200 sticky top-0 z-30"
  >
    <div class="flex items-center justify-between px-4 py-4">
      <!-- Botón hamburguesa -->
      <button
        class="p-2 mr-2 rounded hover:bg-gray-100"
        aria-label="Abrir menú de navegación"
        onclick="openSideMenu()"
      >
        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M4 7h16M4 12h16M4 17h16" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>

      <h1 class="text-xl flex-1">
        <span id="brand-accent" class="text-green-600"> AssistGo </span>
      </h1>
    </div>
  </header>

  <!-- Overlay menú lateral -->
  <div
    id="side-menu-overlay"
    class="fixed inset-0 bg-black/40 z-40 hidden"
    onclick="closeSideMenu()"
  ></div>

  <!-- Menú lateral -->
  <aside
    id="side-menu"
    class="fixed top-0 left-0 h-full w-64 bg-white shadow-lg z-50 -translate-x-full transform transition-transform duration-200"
    aria-label="Menú de navegación"
  >
    <div class="p-4 border-b">
      <h2 class="text-lg font-semibold">Menú de navegación</h2>
      <p class="text-sm text-gray-500">Configura tu experiencia</p>
    </div>

    <nav class="p-4 space-y-6">
      <!-- Inicio -->
      <a
        href="index.html"
        class="flex items-center gap-3 text-gray-800 hover:text-green-600"
        onclick="closeSideMenu()"
      >
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
          <use href="#icon-home" />
        </svg>
        <span>Inicio</span>
      </a>

      <!-- Soporte -->
      <a
        href="support.html"
        class="flex items-center gap-3 text-gray-800 hover:text-green-600"
        onclick="closeSideMenu()"
      >
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
          <use href="#icon-support" />
        </svg>
        <span>Soporte</span>
      </a>

      <!-- Configuración -->
      <button
        type="button"
        class="flex items-center gap-3 text-gray-800 hover:text-green-600 w-full text-left"
      >
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
          <use href="#icon-settings" />
        </svg>
        <span>Configuración (próximamente)</span>
      </button>

      <!-- Switch de contraste -->
      <div class="flex items-center justify-between gap-3 text-gray-800">
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
            <use href="#icon-settings" />
          </svg>
          <span>Alto contraste</span>
        </div>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" id="contrastSwitch" class="sr-only peer" />
          <div
            class="w-10 h-5 bg-gray-300 rounded-full peer peer-checked:bg-green-500 transition-colors"
          ></div>
          <span
            class="absolute left-1 top-1 w-3 h-3 bg-white rounded-full shadow transform peer-checked:translate-x-5 transition-transform"
          ></span>
        </label>
      </div>
    </nav>
  </aside>

  <!-- Login -->
  <main class="pb-20">
    <section class="max-w-md mx-auto pt-16 px-4">
      <h2 class="text-2xl font-semibold mb-4 text-center">
        Iniciar sesión
      </h2>
      <p class="text-center text-gray-600 mb-8">
        Ingresa para usar AssistGo
      </p>
      <form
        onsubmit="event.preventDefault(); handleLogin();"
        class="space-y-4"
      >
        <div>
          <label class="block mb-1 text-sm font-medium">
            Correo electrónico
          </label>
          <input
            type="email"
            required
            class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"
            placeholder="ejemplo@correo.com"
          />
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium">Contraseña</label>
          <input
            type="password"
            required
            class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"
            placeholder="••••••••"
          />
        </div>
        <button
          type="submit"
          class="w-full bg-green-600 text-white rounded py-2.5 text-base font-medium hover:bg-green-700 transition"
        >
          Entrar
        </button>
      </form>
    </section>
  </main>

  <!-- Bottom nav -->
  <nav
    id="bottom-nav"
    class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200"
  >
    <div class="flex items-center justify-around py-2">
      <a
        href="index.html"
        class="flex flex-col items-center gap-1 h-auto py-3 px-4 text-xs text-green-600"
      >
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
          <use href="#icon-home" />
        </svg>
        <span>Inicio</span>
      </a>
    </div>
  </nav>

  <!-- BOTÓN FLOTANTE DE AYUDA / SEGURIDAD -->
  <button
    type="button"
    class="fixed bottom-20 right-4 w-14 h-14 rounded-full bg-red-600 text-white shadow-lg flex items-center justify-center z-40 hover:bg-red-700"
    aria-label="Seguridad AssistGo"
    onclick="openSafetyModal()"
  >
    <svg class="w-7 h-7" viewBox="0 0 24 24" fill="currentColor">
      <use href="#icon-alert" />
    </svg>
  </button>

  <!-- MODAL DE SEGURIDAD / AYUDA -->
  <div
    id="safety-modal-overlay"
    class="fixed inset-0 bg-black/40 z-50 hidden"
    onclick="closeSafetyModal()"
  >
    <div
      class="max-w-md mx-auto mt-16 bg-white rounded-2xl shadow-lg p-6 relative"
      onclick="event.stopPropagation()"
      id="safety-modal-panel"
    >
      <div class="flex items-start gap-3 mb-4">
        <svg class="w-8 h-8 text-red-600 mt-1" viewBox="0 0 24 24" fill="currentColor">
          <use href="#icon-alert" />
        </svg>
        <div>
          <h2 class="text-xl font-semibold">Seguridad AssistGo</h2>
          <p class="text-sm text-gray-600">
            Estas herramientas te cuidan antes, durante y después del viaje.
          </p>
        </div>
        <button
          type="button"
          class="ml-auto text-gray-500 hover:text-gray-700"
          onclick="closeSafetyModal()"
          aria-label="Cerrar"
        >
          ✕
        </button>
      </div>

      <div class="space-y-4 text-sm">
        <!-- Compartir viaje en tiempo real -->
        <div class="border rounded-xl p-3">
          <h3 class="font-semibold mb-1">Compartir viaje en tiempo real</h3>
          <p class="mb-1">
            El usuario puede enviar su ubicación en vivo a familiares o cuidadores. Pueden ver:
          </p>
          <ul class="list-disc list-inside text-gray-700">
            <li>Ruta exacta</li>
            <li>Avance del viaje</li>
            <li>Datos del conductor</li>
            <li>Hora estimada de llegada</li>
          </ul>
        </div>

        <!-- Botón de asistencia inmediata -->
        <div class="border rounded-xl p-3">
          <h3 class="font-semibold mb-1">Botón de asistencia inmediata</h3>
          <p class="mb-1">
            No es solo un botón rojo: activa un protocolo automático que puede:
          </p>
          <ul class="list-disc list-inside text-gray-700">
            <li>Notificar a un contacto de emergencia</li>
            <li>Mandar alerta al centro de soporte</li>
            <li>Compartir ubicación exacta</li>
            <li>Marcar al conductor para verificar la situación</li>
          </ul>
        </div>

        <!-- Verificación de conductor -->
        <div class="border rounded-xl p-3">
          <h3 class="font-semibold mb-1">Verificación de conductor</h3>
          <p class="mb-1">
            Antes de asignar un viaje, AssistGo valida:
          </p>
          <ul class="list-disc list-inside text-gray-700">
            <li>Certificación en movilidad accesible</li>
            <li>Capacitación en atención inclusiva</li>
            <li>Antecedentes verificados</li>
            <li>Vehículo adaptado y revisado</li>
          </ul>
        </div>

        <!-- Alertas inteligentes -->
        <div class="border rounded-xl p-3">
          <h3 class="font-semibold mb-1">Alertas inteligentes</h3>
          <p class="mb-1">
            La app detecta situaciones anormales como:
          </p>
          <ul class="list-disc list-inside text-gray-700">
            <li>Desvíos no autorizados</li>
            <li>Paradas muy largas</li>
            <li>Rutas peligrosas o inaccesibles</li>
          </ul>
          <p class="mt-1">
            Y envía alertas automáticas al usuario o al familiar asignado.
          </p>
        </div>

        <!-- Control del viaje -->
        <div class="border rounded-xl p-3">
          <h3 class="font-semibold mb-1">Control total del viaje</h3>
          <p class="mb-1">
            El usuario puede tener opciones como:
          </p>
          <ul class="list-disc list-inside text-gray-700">
            <li>Pausar viaje</li>
            <li>Cancelar viaje con causa accesible</li>
            <li>Solicitar apoyo adicional del conductor</li>
          </ul>
        </div>
      </div>

      <div class="mt-4 flex justify-end">
        <button
          type="button"
          class="px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-medium hover:bg-green-700"
          onclick="closeSafetyModal()"
        >
          Entendido
        </button>
      </div>
    </div>
  </div>

  <script>
    function toggleHighContrast() {
      const body = document.body;
      const header = document.getElementById("header");
      const bottomNav = document.getElementById("bottom-nav");
      const brandAccent = document.getElementById("brand-accent");
      const alertIcon = document.getElementById("alert-icon");

      const enable = !body.classList.contains("high-contrast");

      body.classList.toggle("high-contrast", enable);
      header.classList.toggle("high-contrast-header", enable);
      bottomNav.classList.toggle("high-contrast-nav", enable);
      if (brandAccent) brandAccent.classList.toggle("high-contrast-accent", enable);
      if (alertIcon) alertIcon.classList.toggle("text-yellow-400", enable);

      // sincronizar switch del menú
      const contrastSwitch = document.getElementById("contrastSwitch");
      if (contrastSwitch) {
        contrastSwitch.checked = enable;
      }
    }

    function handleLogin() {
      // marca sesión como iniciada
      localStorage.setItem("isAuthenticated", "true");
      // resetea el modo oscuro al entrar desde login
      localStorage.setItem("dark-mode", "off");

      window.location.href = "home.html";
    }

    function openSideMenu() {
      const menu = document.getElementById("side-menu");
      const overlay = document.getElementById("side-menu-overlay");
      if (!menu || !overlay) return;
      menu.classList.remove("-translate-x-full");
      overlay.classList.remove("hidden");
    }

    function closeSideMenu() {
      const menu = document.getElementById("side-menu");
      const overlay = document.getElementById("side-menu-overlay");
      if (!menu || !overlay) return;
      menu.classList.add("-translate-x-full");
      overlay.classList.add("hidden");
    }

    function openSafetyModal() {
      const overlay = document.getElementById("safety-modal-overlay");
      if (overlay) overlay.classList.remove("hidden");
    }

    function closeSafetyModal() {
      const overlay = document.getElementById("safety-modal-overlay");
      if (overlay) overlay.classList.add("hidden");
    }

    // Inicializar switch de contraste
    window.onload = () => {
      const contrastSwitch = document.getElementById("contrastSwitch");
      if (contrastSwitch) {
        contrastSwitch.addEventListener("change", () => {
          toggleHighContrast();
        });
      }
    };
  </script>
</body>
</html>
